{"remainingRequest":"C:\\MISIONTIC\\Mision_Job_2\\Frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\MISIONTIC\\Mision_Job_2\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\MISIONTIC\\Mision_Job_2\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\MISIONTIC\\Mision_Job_2\\Frontend\\src\\components\\UserAuth.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\MISIONTIC\\Mision_Job_2\\Frontend\\src\\components\\UserAuth.vue","mtime":1629947786805},{"path":"C:\\MISIONTIC\\Mision_Job_2\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\MISIONTIC\\Mision_Job_2\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\MISIONTIC\\Mision_Job_2\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\MISIONTIC\\Mision_Job_2\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwgZnJvbSAiQzovTUlTSU9OVElDL01pc2lvbl9Kb2JfMi9Gcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdGFnZ2VkVGVtcGxhdGVMaXRlcmFsIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L01JU0lPTlRJQy9NaXNpb25fSm9iXzIvRnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwoKdmFyIF90ZW1wbGF0ZU9iamVjdDsKCmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnBhZC1zdGFydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0IGdxbCBmcm9tICdncmFwaHFsLXRhZyc7CmltcG9ydCBqd3RfZGVjb2RlIGZyb20gImp3dC1kZWNvZGUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlVzZXJBdXRoIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcl9pbjogewogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHByb2Nlc3NBdXRoVXNlcjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3Byb2Nlc3NBdXRoVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRhcG9sbG8ubXV0YXRlKHsKICAgICAgICAgICAgICAgICAgbXV0YXRpb246IGdxbChfdGVtcGxhdGVPYmplY3QgfHwgKF90ZW1wbGF0ZU9iamVjdCA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgICAgICAgICAgICAgICAgICAgbXV0YXRpb24gKCRhdXRoZW50aWNhdGVDcmVkZW50aWFsczogQ3JlZGVudGlhbHNJbnB1dCEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZShjcmVkZW50aWFsczogJGF1dGhlbnRpY2F0ZUNyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9Il0pKSksCiAgICAgICAgICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZUNyZWRlbnRpYWxzOiB0aGlzLnVzZXJfaW4KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzdWx0LmRhdGEuYXV0aGVudGljYXRlOwogICAgICAgICAgICAgICAgICBkYXRhLnVzZXJfaWQgPSBqd3RfZGVjb2RlKGRhdGEuYWNjZXNzKS51c2VyX2lkLnRvU3RyaW5nKCkucGFkU3RhcnQoMywgIjAiKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRlbWl0KCdsb2ctaW4nLCBkYXRhLCBfdGhpcy51c2VyX2luLnVzZXJuYW1lKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBhbGVydCgiRWwgdXN1YXJpbyB5L28gY29udHJhc2XDsWEgc29uIGluY29ycmVjdG9zIik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHByb2Nlc3NBdXRoVXNlcigpIHsKICAgICAgICByZXR1cm4gX3Byb2Nlc3NBdXRoVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gcHJvY2Vzc0F1dGhVc2VyOwogICAgfSgpCiAgfQp9Ow=="},{"version":3,"sources":["C:\\MISIONTIC\\Mision_Job_2\\Frontend\\src\\components\\UserAuth.vue"],"names":[],"mappings":";;;;;;;;;AAoBA,OAAO,GAAP,MAAgB,aAAhB;AACA,OAAO,UAAP,MAAuB,YAAvB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,UADK;AAGX,EAAA,IAAI,EAAE,gBAAU;AACZ,WAAO;AACH,MAAA,OAAO,EAAE;AACL,QAAA,QAAQ,EAAC,EADJ;AAEL,QAAA,QAAQ,EAAC;AAFJ;AADN,KAAP;AAMH,GAVU;AAYX,EAAA,OAAO,EAAE;AACL,IAAA,eAAe;AAAA,qFAAE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACP,KAAK,OAAL,CAAa,MAAb,CAAoB;AACtB,kBAAA,QAAQ,EAAE,GAAF,6VADc;AAQtB,kBAAA,SAAS,EAAE;AACP,oBAAA,uBAAuB,EAAE,KAAK;AADvB;AARW,iBAApB,EAYH,IAZG,CAYE,UAAC,MAAD,EAAY;AAEhB,sBAAI,IAAG,GAAI,MAAM,CAAC,IAAP,CAAY,YAAvB;AACA,kBAAA,IAAI,CAAC,OAAL,GAAe,UAAU,CAAC,IAAI,CAAC,MAAN,CAAV,CAAwB,OAAxB,CAAgC,QAAhC,GAA2C,QAA3C,CAAoD,CAApD,EAAuD,GAAvD,CAAf;;AAEA,kBAAA,KAAI,CAAC,KAAL,CAAW,QAAX,EAAqB,IAArB,EAA2B,KAAI,CAAC,OAAL,CAAa,QAAxC;AAEH,iBAnBK,EAmBH,KAnBG,CAmBG,UAAC,KAAD,EAAW;AAChB,kBAAA,KAAK,CAAC,2CAAD,CAAL;AACH,iBArBK,CADO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADV;AAZE,CAAf","sourcesContent":["<template>\r\n    <div id=\"AuthUser\" class=\"auth_user\">\r\n        \r\n        <div class=\"container_auth_user\">\r\n            <h2>Autenticarse</h2>\r\n\r\n            <form v-on:submit.prevent=\"processAuthUser\" >\r\n                <input type=\"text\" v-model=\"user_in.username\" placeholder=\"Username\">\r\n                <br>\r\n                <input type=\"password\" v-model=\"user_in.password\" placeholder=\"Password\">\r\n                <br>\r\n                <button type=\"submit\">Inici</button>\r\n                <button type=\"submit\">Iniciar Sesion</button>\r\n            </form>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from 'graphql-tag'\r\nimport jwt_decode from \"jwt-decode\"\r\n\r\nexport default {\r\n    name: \"UserAuth\",\r\n\r\n    data: function(){\r\n        return {\r\n            user_in: {\r\n                username:\"\",\r\n                password:\"\"\r\n            }\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        processAuthUser: async function(){\r\n            await this.$apollo.mutate({\r\n                mutation: gql`\r\n                    mutation ($authenticateCredentials: CredentialsInput!) {\r\n                        authenticate(credentials: $authenticateCredentials) {\r\n                            refresh\r\n                            access\r\n                        }\r\n                    }`, \r\n                variables: {\r\n                    authenticateCredentials: this.user_in\r\n                }\r\n\r\n            }).then((result) => {\r\n\r\n                let data = result.data.authenticate\r\n                data.user_id = jwt_decode(data.access).user_id.toString().padStart(3, \"0\")\r\n\r\n                this.$emit('log-in', data, this.user_in.username)\r\n\r\n            }).catch((error) => {\r\n                alert(\"El usuario y/o contrase√±a son incorrectos\")\r\n            });\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n    .auth_user{\r\n        margin: 0;\r\n        padding: 0%;\r\n        height: 100%;\r\n        width: 100%;\r\n    \r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n\r\n    }\r\n\r\n    .container_auth_user {\r\n        border: 3px solid  #283747;\r\n        border-radius: 10px;\r\n        width: 25%;\r\n        height: 60%;\r\n        \r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n\r\n    .auth_user h2{\r\n        color: #283747;\r\n\r\n    }\r\n\r\n    .auth_user form{\r\n        width: 50%;\r\n        \r\n    }\r\n\r\n    .auth_user input{\r\n        height: 40px;\r\n        width: 100%;\r\n\r\n        box-sizing: border-box;\r\n        padding: 10px 20px;\r\n        margin: 5px 0;\r\n\r\n        border: 1px solid #283747;\r\n        \r\n    }\r\n\r\n    .auth_user button{\r\n        width: 100%;\r\n        height: 40px;\r\n\r\n        color: #E5E7E9;\r\n        background: #283747;\r\n        border: 1px solid #E5E7E9;\r\n\r\n        border-radius: 5px;\r\n        padding: 10px 25px;\r\n        margin: 5px 0;\r\n    }\r\n\r\n    .auth_user button:hover{\r\n        color: #E5E7E9;\r\n        background: crimson;\r\n        border: 1px solid #283747;\r\n    }\r\n</style>"],"sourceRoot":""}]}